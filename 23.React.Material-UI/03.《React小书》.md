# React 小书

[React 小书](https://hyf.js.org/react-naive-book/)

## 第一个例子


在给 LikeButton 类添加了构造函数，这个构造函数会给每一个 LikeButton 的实例添加一个对象 state，state 里面保存了每个按钮自己是否点赞的状态。还改写了原来的事件绑定函数：原来只打印 click，现在点击的按钮的时候会调用 changeLikeText 方法，这个方法会根据 this.state 的状态改变点赞按钮的文本。

```html
    <div class='wrapper'>
        <button class='like-btn'>
        </button>
    </div>

    <script>
        const createDOMFromString = (domString) => {
            const div = document.createElement('div')
            div.innerHTML = domString
            return div
        }

        class LikeButton {
            constructor () {
              this.state = { isLiked: false }
            }

            changeLikeText () {
              const likeText = this.el.querySelector('.like-text')
              this.state.isLiked = !this.state.isLiked
              likeText.innerHTML = this.state.isLiked ? '取消' : '点赞'
            }

            render () {
              this.el = createDOMFromString(`
                <button class='like-button'>
                  <span class='like-text'>点赞</span>
                  <span>👍</span>
                </button>
              `)
              this.el.addEventListener('click', this.changeLikeText.bind(this), false)
              return this.el
            }
        }

				// 实例化之后插入就可以用。
        const btn = new LikeButton()
        const wrapper = document.querySelector('.wrapper .like-btn')
        wrapper.appendChild(btn.render())
    </script>
```
